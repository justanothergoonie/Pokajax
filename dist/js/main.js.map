{"version":3,"sources":["main.js"],"names":["console","log","Main","Pokedex","event","currentLocation","detail","google","maps","LatLng","lat","lng","currentPokemonType","type","types","index","Math","floor","random","length","currentPlaces","pokePlaces","map","place","pokeMarkerLocation","geometry","location","marker","icon","infoWindowContent","name","pokeEvent","CustomEvent","document","querySelector","dispatchEvent","preventDefault","locationEl","locationTerm","value","pokemonEl","pokemonTerm","p","getPokemonByName","toLowerCase","then","response","body","addEventListener","searchPlacesByType","once","evt","api","WeatherApi","weatherSearch","results","setupEventListeners","buttonEl","handleSearch","bodyEl","handleGotGeocode","handleGotPlaces","handleWeather","handleSearchError"],"mappings":"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","sourcesContent":["console.log('hello');\nclass Main {\n\tcurrentPlaces = [];\n\tcurrentPokemonType = '';\n\tp = new Pokedex.Pokedex();\n\tconstructor() {\n\t\tthis.setupEventListeners();\n\t}\n\tsetupEventListeners() {\n\t\tconst buttonEl = document.querySelector('[name=\"search\"]');\n\t\tbuttonEl.addEventListener('click', this.handleSearch);\n\t\tconst bodyEl = document.querySelector('body');\n\t\tbodyEl.addEventListener('got-geocode', this.handleGotGeocode);\n\t\tbodyEl.addEventListener('got-places', this.handleGotPlaces);\n\t\tbodyEl.addEventListener('got-weather', this.handleWeather);\n\t\tbodyEl.addEventListener('got-error', this.handleSearchError);\n\t}\n\n\thandleGotGeocode = (event) => {\n\t\tconsole.log('handleGotGeocode', this.currentLocation, event.detail);\n\t\tthis.currentLocation = new google.maps.LatLng(\n\t\t\tevent.detail.lat,\n\t\t\tevent.detail.lng\n\t\t);\n\t};\n\n\tsearchPlacesByType = () => {\n\t\tconsole.log('searchPlacesByType', this.currentPokemonType);\n\t\tlet type = 'normal';\n\t\tif (\n\t\t\tthis.currentPokemonType === 'grass' ||\n\t\t\tthis.currentPokemonType === 'bug'\n\t\t) {\n\t\t\tconst types = ['park', 'campground', 'florist'];\n\t\t\tconst index = Math.floor(Math.random() * types.length);\n\t\t\tconsole.log(index);\n\t\t\ttype = types[index];\n\t\t} else if (this.currentPokemonType === 'water') {\n\t\t\tconst types = ['fire_station', 'aquarium'];\n\t\t\tconst index = Math.floor(Math.random() * types.length);\n\t\t\tconsole.log(index);\n\t\t\ttype = types[index];\n\t\t} else if (this.currentPokemonType === 'ground') {\n\t\t\ttype = 'campground';\n\t\t} else if (this.currentPokemonType === 'electric') {\n\t\t\tconst types = ['electrician', 'electronics_store'];\n\t\t\tconst index = Math.floor(Math.random() * types.length);\n\t\t\tconsole.log(index);\n\t\t\ttype = types[index];\n\t\t} else if (this.currentPokemonType === 'fairy') {\n\t\t\ttype = 'beauty_salon';\n\t\t} else if (this.currentPokemonType === 'dragon') {\n\t\t\ttype = 'amusement_park';\n\t\t} else if (\n\t\t\tthis.currentPokemonType === 'dark' ||\n\t\t\tthis.currentPokemonType === 'ghost'\n\t\t) {\n\t\t\tconst types = ['funeral_home', 'cemetery'];\n\t\t\tconst index = Math.floor(Math.random() * types.length);\n\t\t\tconsole.log(index);\n\t\t\ttype = types[index];\n\t\t} else if (\n\t\t\tthis.currentPokemonType === 'steel' ||\n\t\t\tthis.currentPokemonType == 'flying'\n\t\t) {\n\t\t\ttype = 'airport';\n\t\t} else if (this.currentPokemonType === 'psychic') {\n\t\t\ttype = 'university';\n\t\t} else if (this.currentPokemonType === 'poison') {\n\t\t\ttype = 'bar';\n\t\t} else if (this.currentPokemonType === 'fighting') {\n\t\t\ttype = 'gym';\n\t\t}\n\t};\n\n\thandleGotPlaces = (event) => {\n\t\tthis.currentPlaces = event.detail;\n\t\tconsole.log('handleGotPlaces', this.currentPlaces);\n\t\tconst pokePlaces = this.currentPlaces.map((place) => {\n\t\t\tconst pokeMarkerLocation = {\n\t\t\t\tlat: place.geometry.location.lat(),\n\t\t\t\tlng: place.geometry.location.lng(),\n\t\t\t};\n\n\t\t\treturn {\n\t\t\t\tmarker: pokeMarkerLocation,\n\t\t\t\ticon: null,\n\t\t\t\tinfoWindowContent: null,\n\t\t\t\tname: null,\n\t\t\t\ttype: null,\n\t\t\t};\n\t\t});\n\t\tconst pokeEvent = new CustomEvent('place-markers', {\n\t\t\tdetail: pokePlaces,\n\t\t});\n\t\tdocument.querySelector('body').dispatchEvent(pokeEvent);\n\t};\n\n\thandleSearch = (event) => {\n\t\tevent.preventDefault();\n\n\t\tconst locationEl = document.querySelector('[name=\"location\"]');\n\t\tconst locationTerm = locationEl.value;\n\n\t\tconst pokemonEl = document.querySelector('[name=\"pokemon\"]');\n\t\tconst pokemonTerm = pokemonEl.value;\n\n\t\tconsole.log('searching..', locationTerm, pokemonTerm);\n\n\t\tthis.p.getPokemonByName(pokemonTerm.toLowerCase()).then((response) => {\n\t\t\tthis.currentPokemonType = response.types[0].type.name;\n\t\t\tconsole.log(this.currentPokemonType);\n\t\t\tdocument.body.addEventListener(\n\t\t\t\t'got-geocode',\n\t\t\t\t() => {\n\t\t\t\t\tconsole.log('google got the city');\n\t\t\t\t\tthis.searchPlacesByType();\n\t\t\t\t},\n\t\t\t\t{ once: true }\n\t\t\t);\n\t\t\tconst evt = new CustomEvent('get-geocode', {\n\t\t\t\tdetail: locationTerm,\n\t\t\t});\n\t\t\tdocument.querySelector('body').dispatchEvent(evt); // google replies with a got-geocode event on body\n\t\t});\n\n\t\tconst api = new WeatherApi();\n\t\tapi.weatherSearch(locationTerm);\n\t};\n\n\thandleWeather = (event) => {\n\t\tconst results = event.detail;\n\t\tconsole.log('showing results from map', results);\n\t};\n}\nnew Main();\n"],"file":"main.js"}