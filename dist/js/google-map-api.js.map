{"version":3,"sources":["google-map-api.js"],"names":["GoogleApi","address","geocoder","google","maps","Geocoder","geocode","results","status","console","log","map","setCenter","geometry","location","event","CustomEvent","detail","lat","lng","document","querySelector","dispatchEvent","request","service","places","PlacesService","nearbySearch","PlacesServiceStatus","OK","evt","searchPlaces","setupMap","bodyEl","addEventListener","handleGetGeocode","handleGetPlaces","circusLatLng","Map","getElementById","zoom","center","initMap"],"mappings":";;;;;;;;;;IAAMA,S;AACL,uBAAc;AAAA;;AAAA;;AAAA,qCAaJ,UAACC,OAAD,EAAa;AACtB,UAAIC,QAAQ,GAAG,IAAIC,MAAM,CAACC,IAAP,CAAYC,QAAhB,EAAf;AACAH,MAAAA,QAAQ,CAACI,OAAT,CAAiB;AAAEL,QAAAA,OAAO,EAAEA;AAAX,OAAjB,EAAuC,UAACM,OAAD,EAAUC,MAAV,EAAqB;AAC3D,YAAIA,MAAM,IAAI,IAAd,EAAoB;AACnBC,UAAAA,OAAO,CAACC,GAAR,CAAYH,OAAZ;;AACA,UAAA,KAAI,CAACI,GAAL,CAASC,SAAT,CAAmBL,OAAO,CAAC,CAAD,CAAP,CAAWM,QAAX,CAAoBC,QAAvC;;AACA,cAAMC,KAAK,GAAG,IAAIC,WAAJ,CAAgB,aAAhB,EAA+B;AAC5CC,YAAAA,MAAM,EAAE;AACPC,cAAAA,GAAG,EAAEX,OAAO,CAAC,CAAD,CAAP,CAAWM,QAAX,CAAoBC,QAApB,CAA6BI,GAA7B,EADE;AAEPC,cAAAA,GAAG,EAAEZ,OAAO,CAAC,CAAD,CAAP,CAAWM,QAAX,CAAoBC,QAApB,CAA6BK,GAA7B;AAFE;AADoC,WAA/B,CAAd;AAMAC,UAAAA,QAAQ,CAACC,aAAT,CAAuB,MAAvB,EAA+BC,aAA/B,CAA6CP,KAA7C;AACA;AACD,OAZD;AAaA,KA5Ba;;AAAA,8CA6BK,UAACA,KAAD,EAAW;AAC7B,MAAA,KAAI,CAACT,OAAL,CAAaS,KAAK,CAACE,MAAnB;AACA,KA/Ba;;AAAA,0CAiCC,UAACM,OAAD,EAAa;AAC3B,UAAIC,OAAO,GAAG,IAAIrB,MAAM,CAACC,IAAP,CAAYqB,MAAZ,CAAmBC,aAAvB,CAAqC,KAAI,CAACf,GAA1C,CAAd;AACAa,MAAAA,OAAO,CAACG,YAAR,CAAqBJ,OAArB,EAA8B,UAAChB,OAAD,EAAUC,MAAV,EAAqB;AAClD,YAAIA,MAAM,IAAIL,MAAM,CAACC,IAAP,CAAYqB,MAAZ,CAAmBG,mBAAnB,CAAuCC,EAArD,EAAyD;AACxD;AACA;AACA;AACA,cAAMC,GAAG,GAAG,IAAId,WAAJ,CAAgB,YAAhB,EAA8B;AAAEC,YAAAA,MAAM,EAAEV;AAAV,WAA9B,CAAZ;AACAa,UAAAA,QAAQ,CAACC,aAAT,CAAuB,MAAvB,EAA+BC,aAA/B,CAA6CQ,GAA7C;AACA;AACD,OARD;AASA,KA5Ca;;AAAA,6CA8CI,UAACf,KAAD,EAAW;AAC5B,MAAA,KAAI,CAACgB,YAAL,CAAkBhB,KAAK,CAACE,MAAxB;AACA,KAhDa;;AACb,SAAKe,QAAL;AACA,QAAMC,MAAM,GAAGb,QAAQ,CAACC,aAAT,CAAuB,MAAvB,CAAf;AACAY,IAAAA,MAAM,CAACC,gBAAP,CAAwB,aAAxB,EAAuC,KAAKC,gBAA5C;AACAF,IAAAA,MAAM,CAACC,gBAAP,CAAwB,YAAxB,EAAsC,KAAKE,eAA3C;AACA;;;;+BACU;AACV,UAAIC,YAAY,GAAG;AAAEnB,QAAAA,GAAG,EAAE,MAAP;AAAeC,QAAAA,GAAG,EAAE,CAAC;AAArB,OAAnB;AACA,WAAKR,GAAL,GAAW,IAAIR,MAAM,CAACC,IAAP,CAAYkC,GAAhB,CAAoBlB,QAAQ,CAACmB,cAAT,CAAwB,KAAxB,CAApB,EAAoD;AAC9DC,QAAAA,IAAI,EAAE,EADwD;AAE9DC,QAAAA,MAAM,EAAEJ;AAFsD,OAApD,CAAX;AAIA;;;;;;AAsCF,SAASK,OAAT,GAAmB;AAClB,MAAI1C,SAAJ,CAAcoB,QAAQ,CAACmB,cAAT,CAAwB,MAAxB,CAAd;AACA","sourcesContent":["class GoogleApi {\n\tconstructor() {\n\t\tthis.setupMap();\n\t\tconst bodyEl = document.querySelector('body');\n\t\tbodyEl.addEventListener('get-geocode', this.handleGetGeocode);\n\t\tbodyEl.addEventListener('get-places', this.handleGetPlaces);\n\t}\n\tsetupMap() {\n\t\tvar circusLatLng = { lat: 33.749, lng: -84.388 };\n\t\tthis.map = new google.maps.Map(document.getElementById('map'), {\n\t\t\tzoom: 10,\n\t\t\tcenter: circusLatLng,\n\t\t});\n\t}\n\tgeocode = (address) => {\n\t\tvar geocoder = new google.maps.Geocoder();\n\t\tgeocoder.geocode({ address: address }, (results, status) => {\n\t\t\tif (status == 'OK') {\n\t\t\t\tconsole.log(results);\n\t\t\t\tthis.map.setCenter(results[0].geometry.location);\n\t\t\t\tconst event = new CustomEvent('got-geocode', {\n\t\t\t\t\tdetail: {\n\t\t\t\t\t\tlat: results[0].geometry.location.lat(),\n\t\t\t\t\t\tlng: results[0].geometry.location.lng(),\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t\tdocument.querySelector('body').dispatchEvent(event);\n\t\t\t}\n\t\t});\n\t};\n\thandleGetGeocode = (event) => {\n\t\tthis.geocode(event.detail);\n\t};\n\n\tsearchPlaces = (request) => {\n\t\tvar service = new google.maps.places.PlacesService(this.map);\n\t\tservice.nearbySearch(request, (results, status) => {\n\t\t\tif (status == google.maps.places.PlacesServiceStatus.OK) {\n\t\t\t\t// for (var i = 0; i < results.length; i++) {\n\t\t\t\t// \tcreateMarker(results[i]);\n\t\t\t\t// }\n\t\t\t\tconst evt = new CustomEvent('got-places', { detail: results });\n\t\t\t\tdocument.querySelector('body').dispatchEvent(evt);\n\t\t\t}\n\t\t});\n\t};\n\n\thandleGetPlaces = (event) => {\n\t\tthis.searchPlaces(event.detail);\n\t};\n}\nfunction initMap() {\n\tnew GoogleApi(document.getElementById('#map'));\n}\n"],"file":"google-map-api.js"}